@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Warm Kindle-like palette */
:root{
  --paper:   #f6f1da;
  --card:    #fbf6e6;
  --border:  #e6dcc4;
  --ink:     #2a261f;
  --subtext: #665e53;
  --accent:  #c77d54;
  --accent-600:#a9653e;
  --hover-accent:#f7e8c9;
}

html, body { height: 100%; }
body { background: var(--paper); color: var(--ink); -webkit-font-smoothing: antialiased; }

a { color: var(--ink); }
a:hover { color: var(--accent-600); }

/* Utility fallbacks to match tokens */
.bg-paper{ background-color: var(--paper) !important; }
.bg-card{ background-color: var(--card) !important; }
.border-border{ border-color: var(--border) !important; }
.text-ink{ color: var(--ink) !important; }
.text-subtext{ color: var(--subtext) !important; }
.text-accent{ color: var(--accent) !important; }

.prose { max-width: 72ch; }
.prose a { text-decoration: underline; }
.prose img { border-radius: .75rem; }

#progress { position: fixed; top:0; left:0; height:3px; width:0%;
  background: linear-gradient(90deg, var(--accent), var(--accent-600)); z-index:50; }

@layer components{
  .card { border:1px solid var(--border); background:var(--card); border-radius:12px; padding:1.75rem; box-shadow:0 1px 2px rgba(0,0,0,.03); }
  .btn  { display:inline-block; padding:.5rem 1rem; border-radius:10px; border:1px solid var(--border);
          background: var(--paper); color: var(--ink); transition: background .15s ease, box-shadow .15s ease; text-align:center; }
  .btn:hover{ background:var(--hover-accent); box-shadow:0 1px 4px rgba(0,0,0,.06); }
  .muted{ color:var(--subtext); }
}

/* callouts for context/story bits */
.callout {
  border: 1px solid var(--border);
  background: var(--card);
  border-radius: 12px;
  padding: 1rem 1.25rem;
}

/* checklist polish */
.prose ul[class~="checklist"] li {
  list-style: none;
  margin: .25rem 0;
}
.prose ul[class~="checklist"] li input[type="checkbox"] {
  transform: translateY(2px);
  margin-right: .5rem;
}

/* compact refs */
.refs { font-size: .95em; }

/* --- Prose: compact variant --- */
.prose.prose-tight {
  /* overall rhythm */
  line-height: 1.45;
}

.prose.prose-tight :where(p, ul, ol, blockquote, pre){
  margin-top: .45rem;
  margin-bottom: .45rem;
}

.prose.prose-tight :where(h2){
  margin-top: 1.1rem;
  margin-bottom: .5rem;
  line-height: 1.2;
}

.prose.prose-tight :where(h3){
  margin-top: .9rem;
  margin-bottom: .35rem;
  line-height: 1.25;
}

.prose.prose-tight :where(li){
  margin: .2rem 0;
}

.prose.prose-tight :where(hr){
  margin: .9rem 0;
}

.prose.prose-tight :where(code){
  font-size: .95em;
}

.prose.prose-tight :where(pre){
  padding: .6rem .8rem;
  border-radius: .5rem;
  margin-top: .6rem;
  margin-bottom: .6rem;
}

.prose.prose-tight :where(blockquote){
  padding: .8rem 1rem;
  border-radius: .6rem;
}

/* keep images neat but tighter */
.prose.prose-tight :where(img){
  margin-top: .6rem;
  margin-bottom: .6rem;
  border-radius: .75rem;
}

.dark {
  --paper: #2b2b2b;       /* soft grey background */
  --card: #3a3a3a;        /* card grey */
  --border: #4a4a4a;
  --ink: #d1d1d1;         /* text */
  --subtext: #9a9a9a;
  --accent: #c77d54;      /* keep accent */
}

::selection { background: var(--accent, #c77d54); color: #fff; }
